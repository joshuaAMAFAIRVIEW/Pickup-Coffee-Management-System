<!DOCTYPE html>
<html>
<head>
    <title>Test Equipment API</title>
</head>
<body>
    <h1>Test Equipment Loading</h1>
    <button onclick="testAPI()">Test API Call</button>
    <pre id="result"></pre>
    
    <script>
    function testAPI() {
        fetch('get_available_equipment.php?category_id=1')
            .then(response => {
                console.log('Response status:', response.status);
                console.log('Response headers:', response.headers);
                return response.text();
            })
            .then(text => {
                console.log('Raw response:', text);
                document.getElementById('result').textContent = text;
                
                // Try to parse as JSON
                try {
                    const data = JSON.parse(text);
                    console.log('Parsed JSON:', data);
                    alert('Success! Found ' + (data.items ? data.items.length : 0) + ' items');
                } catch (e) {
                    console.error('JSON parse error:', e);
                    alert('Error: Response is not valid JSON');
                }
            })
            .catch(error => {
                console.error('Fetch error:', error);
                document.getElementById('result').textContent = 'Error: ' + error.message;
            });
    }
    </script>
</body>
</html>
